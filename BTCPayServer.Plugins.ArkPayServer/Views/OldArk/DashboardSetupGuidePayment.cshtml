@using BTCPayServer
@using BTCPayServer.Data
@using BTCPayServer.Plugins.ArkPayServer
@using BTCPayServer.Plugins.ArkPayServer.PaymentHandler
@using BTCPayServer.Services.Invoices
@model BTCPayServer.Models.StoreViewModels.StoreDashboardViewModel
@inject PaymentMethodHandlerDictionary  PaymentMethodHandlerDictionary
@{
    var pm = Context.GetStoreData().GetPaymentMethodConfig<ArkadePaymentMethodConfig>(ArkadePlugin.ArkadePaymentMethodId, PaymentMethodHandlerDictionary);
    var enabled = !string.IsNullOrEmpty(pm?.WalletId);
}


@if (!enabled)
{
<a asp-controller="Ark" asp-action="StoreOverview" asp-route-storeId="@Model.StoreId"
   id="SetupGuide-Ark" class="list-group-item list-group-item-action d-flex align-items-center order-1">
    <vc:icon symbol="wallet-new" />
    <div class="content">
        <h5 class="mb-0" text-translate="true">Set up Arkade</h5>
    </div>
    <vc:icon symbol="caret-right" />
</a>
}
else
{
<a asp-controller="Ark" asp-action="StoreOverview" asp-route-storeId="@Model.StoreId" class="list-group-item d-flex align-items-center" id="SetupGuide-ArkDone">
    <vc:icon symbol="done" />
    <div class="content">
        <h5 class="mb-0 text-success" text-translate="true">Set up Arkade</h5>
    </div>
</a>
}